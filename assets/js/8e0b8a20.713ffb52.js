"use strict";(self.webpackChunktitan_shoulders=self.webpackChunktitan_shoulders||[]).push([[5571],{3548:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"JavaScript/javascript_generator","title":"GeneratorFunction","description":"GeneratorFunction","source":"@site/docs/JavaScript/javascript_generator.md","sourceDirName":"JavaScript","slug":"/JavaScript/javascript_generator","permalink":"/titan-shoulders/docs/JavaScript/javascript_generator","draft":false,"unlisted":false,"editUrl":"https://github.com/Hsing0224/titan-shoulders/tree/master/docs/JavaScript/javascript_generator.md","tags":[],"version":"current","sidebarPosition":33,"frontMatter":{"sidebar_position":33,"description":"GeneratorFunction"},"sidebar":"tutorialSidebar","previous":{"title":"IntersectionObserver","permalink":"/titan-shoulders/docs/JavaScript/javascript_intersection-observer"},"next":{"title":"\u6dfa\u62f7\u8c9d\u8207\u6df1\u62f7\u8c9d","permalink":"/titan-shoulders/docs/JavaScript/javascript_shallow-copy-and-deep-copy"}}');var o=r(4848),i=r(8453);const a={sidebar_position:33,description:"GeneratorFunction"},l="GeneratorFunction",d={},c=[{value:"\u5982\u4f55\u4f7f\u7528",id:"\u5982\u4f55\u4f7f\u7528",level:2},{value:"yield",id:"yield",level:2},{value:"yield*",id:"yield-1",level:3},{value:".next()",id:"next",level:2},{value:".next()\u50b3\u53c3\u6578",id:"next\u50b3\u53c3\u6578",level:3},{value:".return()",id:"return",level:2},{value:".throw()",id:"throw",level:2},{value:"for...of",id:"forof",level:2},{value:"\u8cbb\u6ce2\u90a3\u5951\u6578",id:"\u8cbb\u6ce2\u90a3\u5951\u6578",level:2},{value:"Reference",id:"reference",level:2}];function s(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"generatorfunction",children:"GeneratorFunction"})}),"\n",(0,o.jsx)(n.p,{children:"\u7522\u751f\u5668\uff0c\u53ef\u4ee5\u5c07\u5b83\u60f3\u50cf\u6210\u662f\u4e00\u500b\uff0c\u53eb\u5b83\u4e00\u6b21\u624d\u6703\u52d5\u4e00\u6b21\u7684\u51fd\u5f0f\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"\u5982\u4f55\u4f7f\u7528",children:"\u5982\u4f55\u4f7f\u7528"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"function *name"}),"\u6216\u662f",(0,o.jsx)(n.code,{children:"function* name"}),"\uff0c\u90fd\u662f\u53ef\u4ee5\u7684\u3002\u4ed6\u90fd\u662f\u540d\u7a31\u70ba",(0,o.jsx)(n.code,{children:"name"}),"\u7684 generator function"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function* generator() {\n  yield 1;\n  yield 2;\n  yield 3;\n  // return 'end';\n}\n\n/*\n\u53ef\u4ee5\u9019\u6a23\u5beb\nfunction *generator() {\n  ...\n}\nconst generator = function* () {\n  ...\n}\n\n\u5982\u679c\u662f\u5728object\u5167\nconst obj = {\n  *generator() {\n    ...\n  }\n}\n*/\n\nconst iterator = generator();\niterator.next(); // {value: 1, done: false}\niterator.next(); // {value: 2, done: false}\niterator.next(); // {value: 3, done: false}\niterator.next(); // {value: undefined, done: true}\n// \u5982\u679c\u5728generator function\u6700\u5f8c\u5beb\u4e00\u500breturn\uff0c\u90a3\u7576\u6700\u5f8c\u4e00\u500b\u7684\u6642\u5f8c\u6703\u662f{value: 'end', done: true}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"yield",children:"yield"}),"\n",(0,o.jsxs)(n.p,{children:["\u7576\u57f7\u884c generator function \u6642\uff0c\u5c31\u6703\u5f97\u5230\u4e00\u500b",(0,o.jsx)(n.code,{children:"iterator"}),"\uff0c\u800c\u57f7\u884c\u4e86",(0,o.jsx)(n.code,{children:".next()"}),"\u9019\u500b\u65b9\u6cd5\uff0c\u5c31\u6703\u57f7\u884c\u51fd\u5f0f\u7684\u5167\u5bb9\uff0c\u76f4\u5230\u9047\u5230",(0,o.jsx)(n.code,{children:"yield"}),"\u6642\uff0c\u51fd\u5f0f\u5c31\u6703\u66ab\u505c\uff0c\u76f4\u5230\u4e0b\u6b21\u547c\u53eb",(0,o.jsx)(n.code,{children:".next()"})]}),"\n",(0,o.jsx)(n.h3,{id:"yield-1",children:"yield*"}),"\n",(0,o.jsxs)(n.p,{children:["\u7576 generator function \u5728\u57f7\u884c\u5167\u5bb9\u6642\uff0c\u9047\u5230",(0,o.jsx)(n.code,{children:"yield*"}),"\uff0c\u9019\u6642\u6703\u628a\u63a7\u5236\u6b0a\u79fb\u4ea4\u5230\u53e6\u4e00\u500b\u51fd\u5f0f\uff0c\u7531\u53e6\u4e00\u500b generator function \u57f7\u884c\uff0c\u76f4\u5230 done \u70ba true \u624d\u53c8\u56de\u5230\u539f\u672c\u7684\u51fd\u5f0f\u88e1"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function* delegate() {\n  yield 3;\n  yield 4;\n}\nfunction* generator() {\n  yield 1;\n  yield 2;\n  yield* delegate();\n  yield 5;\n  yield 6;\n}\nconst iterator = generator();\niterator.next().value; // 1\niterator.next().value; // 2\niterator.next().value; // 3\niterator.next().value; // 4\niterator.next().value; // 5\niterator.next().value; // 6\n"})}),"\n",(0,o.jsx)(n.h2,{id:"next",children:".next()"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528",(0,o.jsx)(n.code,{children:".next()"}),"\u53ef\u4ee5\u8d70\u8a2a\u5230\u4e00\u500b",(0,o.jsx)(n.code,{children:"yield"}),"\uff0c\u56de\u50b3\u6703\u662f\u4e00\u500b object",(0,o.jsx)(n.code,{children:"{value: yield\u7684\u503c, done: \u6b64\u51fd\u5f0f\u662f\u5426\u5df2\u7d93\u7d50\u675f}"}),(0,o.jsx)("br",{}),"\nGenerator function \u7684\u57f7\u884c\u5206\u6210\u5169\u500b\u968e\u6bb5"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\u555f\u52d5: \u5728\u547c\u53eb",(0,o.jsx)(n.code,{children:".next()"}),"\u6642\uff0c\u51fd\u5f0f\u9084\u6c92\u6b63\u5f0f\u958b\u59cb\uff0c\u800c\u662f\u5728\u7b2c\u4e00\u500b",(0,o.jsx)(n.code,{children:"yield"}),"\u4e4b\u524d\u66ab\u505c"]}),"\n",(0,o.jsxs)(n.li,{children:["\u6062\u5fa9: \u518d\u6b21\u547c\u53eb",(0,o.jsx)(n.code,{children:".next()"}),"\uff0c\u51fd\u5f0f\u5f9e\u4e0a\u6b21\u66ab\u505c\u7684\u5730\u65b9\u6062\u5fa9\u57f7\u884c"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"next\u50b3\u53c3\u6578",children:".next()\u50b3\u53c3\u6578"}),"\n",(0,o.jsxs)(n.p,{children:["\u9700\u8981\u6ce8\u610f\u57f7\u884c\u7b2c\u4e00\u6b21",(0,o.jsx)(n.code,{children:".next()"}),"\u6642\uff0c\u53c3\u6578\u662f\u7121\u6548\u7684\uff0c\u56e0\u70ba\u662f\u628a\u53c3\u6578\u585e\u5165\u4e0a\u4e00\u500b",(0,o.jsx)(n.code,{children:"yield"}),"\u7684\u5730\u65b9\uff0c\u800c",(0,o.jsx)(n.code,{children:"yield"}),"\u672c\u8eab\u4e26\u6c92\u6709\u56de\u50b3\u503c\uff0c\u6216\u662f\u53ea\u6703\u56de\u50b3",(0,o.jsx)(n.code,{children:"undefined"}),"\uff0c\u6240\u4ee5\u7576\u6c92\u6709\u503c\u50b3\u5165\u6642\u5019\uff0c\u4e26\u4e0d\u662f\u56de\u50b3",(0,o.jsx)(n.code,{children:"yield"}),"\u63a5\u7e8c\u7684\u503c\uff0c\u800c\u662f",(0,o.jsx)(n.code,{children:"undefined"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'function* generator() {\n  for (let i = 0; true; i++) {\n    console.log(`nextValue: ${yield i}`);\n  }\n}\nconst iterator = generator();\niterator.next("a"); // {value: 0, done: false}\niterator.next("b"); // nextValue: b {value: 1, done: false}\niterator.next(); // nextValue: undefined {value: 2, done: false}\niterator.next("d"); // nextValue: d {value: 3, done: false}\niterator.next("e"); // nextValue: e {value: 4, done: false}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"return",children:".return()"}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u4f7f\u7528 return\uff0c\u6703\u76f4\u63a5\u7d50\u675f generator function \u4e26\u56de\u50b3\u6307\u5b9a\u7684\u503c\u3002\u4e4b\u5f8c\u518d\u4f7f\u7528",(0,o.jsx)(n.code,{children:".next()"}),"\u547c\u53eb\u6642\u5247\u4e0d\u6703\u57f7\u884c\u63a5\u4e0b\u4f86\u7684\u503c"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function* generator() {\n  yield 1;\n  yield 2;\n  yield 3;\n}\nconst iterator = generator();\niterator.next(); // {value: 1, done: false}\niterator.next(); // {value: 2, done: false}\niterator.return(\"end\"); // {value: 'end', done: true}\niterator.next(); // {value: undefined, done: true}\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u6216\u662f\u5728 generator function \u88e1\u52a0\u5165 return\uff0c\u4e5f\u662f\u4e00\u6a23\u6548\u679c"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function* generator() {\n  yield 1;\n  yield 2;\n  return;\n  yield 3;\n}\nconst iterator = generator();\niterator.next(); // {value: 1, done: false}\niterator.next(); // {value: 2, done: false}\niterator.next(); // {value: undefined, done: true}\niterator.next(); // {value: undefined, done: true}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"throw",children:".throw()"}),"\n",(0,o.jsxs)(n.p,{children:["\u6b64\u65b9\u6cd5\u662f\u5f9e generator function \u4e1f\u51fa\u4e00\u500b error\uff0c\u4e26\u7d50\u675f\uff0c\u4e4b\u5f8c\u518d\u4f7f\u7528",(0,o.jsx)(n.code,{children:".next()"}),"\u547c\u53eb\u6642\u5247\u4e0d\u6703\u57f7\u884c\u63a5\u4e0b\u4f86\u7684\u503c"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function* generator() {\n  try {\n    yield 1;\n    yield 2;\n    yield 3;\n  } catch (error) {\n    // \u5982\u679c\u6c92\u7528return\uff0c\u56de\u50b3\u7684done\u9084\u6703\u662ffalse\n    return `Error Message: ${error}`;\n  }\n}\nconst iterator = generator();\niterator.next(); // {value: 1, done: false}\niterator.next(); // {value: 2, done: false}\niterator.throw(\"error\"); // {value: 'Error Message: error', done: true}\niterator.next(); // {value: undefined, done: true}\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4e5f\u53ef\u4ee5\u5f9e\u51fd\u5f0f\u88e1\u9762\u4e1f\u51fa\u4e00\u500b\u932f\u8aa4"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function* generator() {\n  try {\n    yield 1;\n    yield 2;\n    throw new Error(\"Custom error\");\n    yield 3;\n  } catch (error) {\n    return error.message;\n  }\n}\nconst iterator = generator();\niterator.next(); // {value: 1, done: false}\niterator.next(); // {value: 2, done: false}\niterator.next(); // {value: 'Custom error', done: true}\niterator.next(); // {value: undefined, done: true}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"forof",children:"for...of"}),"\n",(0,o.jsxs)(n.p,{children:["\u4f7f\u7528",(0,o.jsx)(n.code,{children:"for...of"}),"\u53ef\u4ee5\u81ea\u52d5\u57f7\u884c generator function \u7522\u751f\u7684 iterator \u7269\u4ef6\uff0c\u6b64\u65b9\u6cd5\u4e0d\u9700\u8981\u4f7f\u7528",(0,o.jsx)(n.code,{children:".next()"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function* generator() {\n  yield 1;\n  yield 2;\n  yield 3;\n}\nfor (let value of generator()) {\n  console.log(value);\n}\n/*\n1\n2\n3\n*/\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u8cbb\u6ce2\u90a3\u5951\u6578",children:"\u8cbb\u6ce2\u90a3\u5951\u6578"}),"\n",(0,o.jsx)(n.p,{children:"\u8cbb\u6c0f\u6578\u5217\u7531 0 \u548c 1 \u958b\u59cb\uff0c\u4e4b\u5f8c\u7684\u8cbb\u6ce2\u90a3\u5951\u6578\u5c31\u662f\u7531\u4e4b\u524d\u7684\u5169\u6578\u76f8\u52a0\u800c\u5f97\u51fa\uff0c\u9996\u5e7e\u500b\u8cbb\u6ce2\u90a3\u5951\u6578\u662f\uff1a1\u3001 1\u3001 2\u3001 3\u3001 5\u3001 8\u3001 13\u3001 21\u3001 34\u3001 55\u3001 89\u3001 144\u3001 233\u3001 377\u3001 610"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function* fibonacciSequence() {\n  let current = 0;\n  let next = 1;\n\n  while (true) {\n    yield current;\n    [current, next] = [next, current + next];\n  }\n}\n\nconst fibonacciGenerator = fibonacciSequence();\n\nfor (let i = 0; i < 10; i++) {\n  console.log(fibonacciGenerator.next().value);\n}\n// 0, 1, 1, 2, 3, 5, 8, 13, 21, 34\n"})}),"\n",(0,o.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://denny.qollie.com/2016/05/08/es6-generator-func/",children:"\u6dfa\u5165\u6dfa\u51fa Generator Function - Denny Ku"}),(0,o.jsx)("br",{}),"\n",(0,o.jsx)(n.a,{href:"https://pjchender.dev/javascript/js-generator/",children:"[JS] JavaScript Generator \u7684\u4f7f\u7528- PJCHENder"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(s,{...e})}):s(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var t=r(6540);const o={},i=t.createContext(o);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);